{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"index.html","text":"TotalSeq Analysis Methods And Results For Healthy Control Vs Uveitis Patients If you are rerunning the workflow, please rename the \"Results\" folder and move it to the \"Archive\" folder. Then, create a new \"Results\" folder and inside it, create the following folders - \"qualitycontrol\", \"normalization\", \"clustering\", \"markers\", \"annotation\", \"subcluster\", \"trajectory\". Protocol The experiment protocol information is available in this PDF document. Sample Information The sample information is available in this tab delimited text file. Data Analysis Workflow Primary Analysis Most of all the following workflow components use Seurat within R workflow. The .Rmd files are the main files. Any changes to the workflow components has to be made in the .Rmd files. The .Rmd files generate the .R and .RData files. To run/rerun these workflow, you can load the corresponding .R files or .Rmd files in Rstudio. If you want to edit the previous results, just load the corresponding .RData file and the .R or .Rmd file and make the edits. For example, if you want to run the quality control component, ALL OVER again, after adding or removing a sample, and simultaneously genenate the html report, you could run the below command in the R console, in a sinteractive session, cd /data/Sen_Lab_NEI/TotalSeq/Tools module load R R rmarkdown::render(\"qualityControl.Rmd\") Quality Control Normalization Clustering Differential Expression Analysis Annotation Scripts All the below scripts used for this analysis are available in the Tools folder; prep.sh : this BASH script takes a sampleinformation tab delimited file and samples name, creates samples folder with library.csv and swarm file organizeout.sh : this BASH scripts is run after cellranger swarm run, to move/organize output files to the results folder cellrangerReport.R : this R script Reads all the cellranger summary metric files for all the samples and plots the aggregated data for easy comparison and QC Project Folder Structure/Contents The project folder /data/Sen_Lab_NEI/TotalSeq/ has the following subfolders and relevant contents as noted below; Archive : Old/unwanted files are stored in this folder, for backup purpose index.html : The main page to all project documentation Protocol : Contains experiment/protocol details RawData : Contains all the raw data obtained from the sequencing core Reports : Contains all the reports, including this documentation Results : Contains all the results SampleInformation.tab : Contains the sample information Tools : Contains all the scripts and reference files Reference BioConductor","title":"Home"},{"location":"index.html#totalseq-analysis-methods-and-results-for-healthy-control-vs-uveitis-patients","text":"If you are rerunning the workflow, please rename the \"Results\" folder and move it to the \"Archive\" folder. Then, create a new \"Results\" folder and inside it, create the following folders - \"qualitycontrol\", \"normalization\", \"clustering\", \"markers\", \"annotation\", \"subcluster\", \"trajectory\".","title":"TotalSeq Analysis Methods And Results For Healthy Control Vs Uveitis Patients"},{"location":"index.html#protocol","text":"The experiment protocol information is available in this PDF document.","title":"Protocol"},{"location":"index.html#sample-information","text":"The sample information is available in this tab delimited text file.","title":"Sample Information"},{"location":"index.html#data-analysis-workflow","text":"Primary Analysis Most of all the following workflow components use Seurat within R workflow. The .Rmd files are the main files. Any changes to the workflow components has to be made in the .Rmd files. The .Rmd files generate the .R and .RData files. To run/rerun these workflow, you can load the corresponding .R files or .Rmd files in Rstudio. If you want to edit the previous results, just load the corresponding .RData file and the .R or .Rmd file and make the edits. For example, if you want to run the quality control component, ALL OVER again, after adding or removing a sample, and simultaneously genenate the html report, you could run the below command in the R console, in a sinteractive session, cd /data/Sen_Lab_NEI/TotalSeq/Tools module load R R rmarkdown::render(\"qualityControl.Rmd\") Quality Control Normalization Clustering Differential Expression Analysis Annotation","title":"Data Analysis Workflow"},{"location":"index.html#scripts","text":"All the below scripts used for this analysis are available in the Tools folder; prep.sh : this BASH script takes a sampleinformation tab delimited file and samples name, creates samples folder with library.csv and swarm file organizeout.sh : this BASH scripts is run after cellranger swarm run, to move/organize output files to the results folder cellrangerReport.R : this R script Reads all the cellranger summary metric files for all the samples and plots the aggregated data for easy comparison and QC","title":"Scripts"},{"location":"index.html#project-folder-structurecontents","text":"The project folder /data/Sen_Lab_NEI/TotalSeq/ has the following subfolders and relevant contents as noted below; Archive : Old/unwanted files are stored in this folder, for backup purpose index.html : The main page to all project documentation Protocol : Contains experiment/protocol details RawData : Contains all the raw data obtained from the sequencing core Reports : Contains all the reports, including this documentation Results : Contains all the results SampleInformation.tab : Contains the sample information Tools : Contains all the scripts and reference files","title":"Project Folder Structure/Contents"},{"location":"index.html#reference","text":"BioConductor","title":"Reference"},{"location":"annotation.html","text":"E. Software F. Reference","title":"Annotation"},{"location":"annotation.html#e-software","text":"","title":"E. Software"},{"location":"annotation.html#f-reference","text":"","title":"F. Reference"},{"location":"clustering.html","text":"E. Software F. Reference","title":"Clustering"},{"location":"clustering.html#e-software","text":"","title":"E. Software"},{"location":"clustering.html#f-reference","text":"","title":"F. Reference"},{"location":"differential.html","text":"E. Software F. Reference","title":"Marker Discovery"},{"location":"differential.html#e-software","text":"","title":"E. Software"},{"location":"differential.html#f-reference","text":"","title":"F. Reference"},{"location":"normalization.html","text":"E. Software F. Reference","title":"Normalization"},{"location":"normalization.html#e-software","text":"","title":"E. Software"},{"location":"normalization.html#f-reference","text":"","title":"F. Reference"},{"location":"primary-analysis.html","text":"A. Prepare SampleInformation.tab file Current SampleInformation.tab file is a tab delimited text file. This file could be edited in a plain text editor or a spreadsheet program. Update this file when a new sample is added to the project. B. Prepare the input data files, output folders and the swarm job file Make sure you have the Results/cellranger folder - to store your results The Tools/prep.sh file is a bash script file that should be run first, to prepare files/folders and to generate the swarm job file. Open the prep.sh file in a plain text editor and edit the \"samples\" variable to update new sample names as it is entered in the SampleInformation.tab file. Open a shell/terminal, to change to the Tools directory, run the below command cd /data/Sen_Lab_NEI/TotalSeq/Tools/ Run the prep.sh script using the below command bash prep.sh Check the Results folder to make sure you have directories for new samples and that the directory has corresponding fastq files and library file Check the Tools folder to make sure you have the \"totalseqall.swarm\" file C. Primary analysis - barcode/umi/cell counting using cellranger Change to the Tools directory using the below command; cd /data/Sen_Lab_NEI/TotalSeq/Tools/ Run the swarm job using the below command; swarm -f totalseqall.swarm -g 64 -t 28 --gres=lscratch:200 --partition=norm --module cellranger Note Note down your job id Check your job status using the \"jobload\" command or the squeue command; squeue --job 14354599 Extend the swarm job running time using the below command; newwall --jobid 13558558 --time 10:00:00 D. Organize the outputs and cleanup Once the swarm job is complete (should take about three hours), change to the Tools directory using the below command; cd /data/Sen_Lab_NEI/TotalSeq/Tools/ Open the \"organizeout.sh\" script in text editor and updated the variable \"samples\" with your new sample names Run the \"organizeout.sh\" script using the below command; bash organizeout.sh Check out the Results folder to make sure you have the expected output files. Example CellRanger Output location for Sample NS7R65BBTS /data/Sen_Lab_NEI/TotalSeq/Results/cellranger/NS7R65BBTS/cellranger_output/ E. Aggregate cellranger summary outputs Login to biowulf and request an interactive node using the below 'sinteractive' command, with 64 cores, 160gb RAM and 300gb of storage; sinteractive --cpus-per-task=64 --mem=160g --gres=lscratch:300 Once the interacive node is assigned, change to the Tools directory using the below command; cd /data/Sen_Lab_NEI/TotalSeq/Tools/ Load the R module using the below command; module load R Once the R module is loaded, run the 'cellrangerReport.R' script using the below command; Rscript cellrangerReport.R The cellranger report is now available in the \"Reports\" folder. A link to this report is also given here Software cellranger 6.0.0 R 4.0.5 mkdocs 1.1.2 References Feature reference file generation TotalSeq CellRanger Biowulf Swarm Biowulf","title":"Primary Analysis"},{"location":"primary-analysis.html#a-prepare-sampleinformationtab-file","text":"Current SampleInformation.tab file is a tab delimited text file. This file could be edited in a plain text editor or a spreadsheet program. Update this file when a new sample is added to the project.","title":"A. Prepare SampleInformation.tab file"},{"location":"primary-analysis.html#b-prepare-the-input-data-files-output-folders-and-the-swarm-job-file","text":"Make sure you have the Results/cellranger folder - to store your results The Tools/prep.sh file is a bash script file that should be run first, to prepare files/folders and to generate the swarm job file. Open the prep.sh file in a plain text editor and edit the \"samples\" variable to update new sample names as it is entered in the SampleInformation.tab file. Open a shell/terminal, to change to the Tools directory, run the below command cd /data/Sen_Lab_NEI/TotalSeq/Tools/ Run the prep.sh script using the below command bash prep.sh Check the Results folder to make sure you have directories for new samples and that the directory has corresponding fastq files and library file Check the Tools folder to make sure you have the \"totalseqall.swarm\" file","title":"B. Prepare the input data files, output folders and the swarm job file"},{"location":"primary-analysis.html#c-primary-analysis-barcodeumicell-counting-using-cellranger","text":"Change to the Tools directory using the below command; cd /data/Sen_Lab_NEI/TotalSeq/Tools/ Run the swarm job using the below command; swarm -f totalseqall.swarm -g 64 -t 28 --gres=lscratch:200 --partition=norm --module cellranger Note Note down your job id Check your job status using the \"jobload\" command or the squeue command; squeue --job 14354599 Extend the swarm job running time using the below command; newwall --jobid 13558558 --time 10:00:00","title":"C. Primary analysis - barcode/umi/cell counting using cellranger"},{"location":"primary-analysis.html#d-organize-the-outputs-and-cleanup","text":"Once the swarm job is complete (should take about three hours), change to the Tools directory using the below command; cd /data/Sen_Lab_NEI/TotalSeq/Tools/ Open the \"organizeout.sh\" script in text editor and updated the variable \"samples\" with your new sample names Run the \"organizeout.sh\" script using the below command; bash organizeout.sh Check out the Results folder to make sure you have the expected output files. Example CellRanger Output location for Sample NS7R65BBTS /data/Sen_Lab_NEI/TotalSeq/Results/cellranger/NS7R65BBTS/cellranger_output/","title":"D. Organize the outputs and cleanup"},{"location":"primary-analysis.html#e-aggregate-cellranger-summary-outputs","text":"Login to biowulf and request an interactive node using the below 'sinteractive' command, with 64 cores, 160gb RAM and 300gb of storage; sinteractive --cpus-per-task=64 --mem=160g --gres=lscratch:300 Once the interacive node is assigned, change to the Tools directory using the below command; cd /data/Sen_Lab_NEI/TotalSeq/Tools/ Load the R module using the below command; module load R Once the R module is loaded, run the 'cellrangerReport.R' script using the below command; Rscript cellrangerReport.R The cellranger report is now available in the \"Reports\" folder. A link to this report is also given here","title":"E. Aggregate cellranger summary outputs"},{"location":"primary-analysis.html#software","text":"cellranger 6.0.0 R 4.0.5 mkdocs 1.1.2","title":"Software"},{"location":"primary-analysis.html#references","text":"Feature reference file generation TotalSeq CellRanger Biowulf Swarm Biowulf","title":"References"},{"location":"qualityControl.html","text":"A. Data Import B. Detecting Low Quality Cells C. Quality Control Plots D. Removing Low Quality Cells E. Software F. Reference","title":"Quality Control"},{"location":"qualityControl.html#a-data-import","text":"","title":"A. Data Import"},{"location":"qualityControl.html#b-detecting-low-quality-cells","text":"","title":"B. Detecting Low Quality Cells"},{"location":"qualityControl.html#c-quality-control-plots","text":"","title":"C. Quality Control Plots"},{"location":"qualityControl.html#d-removing-low-quality-cells","text":"","title":"D. Removing Low Quality Cells"},{"location":"qualityControl.html#e-software","text":"","title":"E. Software"},{"location":"qualityControl.html#f-reference","text":"","title":"F. Reference"}]}